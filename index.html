<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Voice Cash</title>

<style>
:root{
  --bg:#0f0f14;
  --card:#1a1a26;
  --accent:#7c5cff;
  --danger:#ff4d4d;
  --text:#fff;
  --muted:#9a9ab3;
}
*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui;
}
.app{
  max-width:520px;
  margin:auto;
  padding:16px;
}
h1{
  text-align:center;
  margin:10px 0 14px;
}

/* top buttons */
.topbar{
  display:flex;
  gap:10px;
  margin-bottom:12px;
}
.topbar button{
  flex:1;
  padding:12px;
  border-radius:14px;
  background:var(--card);
  color:var(--text);
  border:1px solid rgba(255,255,255,.08);
}
.topbar button.active{
  border-color:var(--accent);
}

/* summary */
.row{
  display:flex;
  gap:10px;
  margin-bottom:12px;
}
.card{
  flex:1;
  background:var(--card);
  border-radius:14px;
  padding:12px;
}
.card .label{
  color:var(--muted);
  font-size:13px;
}
.card .value{
  color:var(--accent);
  font-size:20px;
  margin-top:6px;
}

/* voice */
button.primary{
  width:100%;
  padding:16px;
  border-radius:16px;
  border:none;
  background:var(--accent);
  color:#fff;
  font-size:18px;
}
button.primary.recording{
  background:var(--danger);
  animation:pulse 1.5s ease-in-out infinite;
}
@keyframes pulse{
  0%,100%{opacity:1}
  50%{opacity:0.6}
}
.status{
  text-align:center;
  color:var(--muted);
  margin:10px 0;
}

/* records */
.record{
  background:var(--card);
  border-radius:12px;
  padding:10px;
  margin:8px 0;
  display:flex;
  align-items:center;
  gap:10px;
}
.icon{
  font-size:22px;
  width:28px;
  text-align:center;
}
.recMain{
  flex:1;
}
.recTitle{
  font-size:15px;
}
.recMeta{
  color:var(--muted);
  font-size:12px;
}
.recRight{
  display:flex;
  align-items:center;
  gap:8px;
}
.amount{
  font-size:16px;
}
.menuBtn{
  background:transparent;
  border:none;
  color:var(--muted);
  font-size:20px;
  cursor:pointer;
}

/* modal & overlay */
.overlay{
  position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;
  background:rgba(0,0,0,0.7);
  display:none;
  z-index:100;
}
.overlay.show{
  display:flex;
  align-items:flex-end;
  justify-content:center;
}
.actionMenu{
  background:var(--card);
  border-radius:20px 20px 0 0;
  padding:20px;
  width:100%;
  max-width:520px;
}
.actionMenu button{
  width:100%;
  padding:16px;
  background:transparent;
  border:none;
  color:var(--text);
  font-size:16px;
  text-align:left;
  border-radius:12px;
  margin:6px 0;
  cursor:pointer;
}
.actionMenu button:hover{
  background:rgba(255,255,255,0.05);
}
.actionMenu button.danger{
  color:var(--danger);
}

/* edit panel */
.editPanel{
  position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;
  background:rgba(0,0,0,0.7);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:200;
}
.editPanel.show{
  display:flex;
}
.editForm{
  background:var(--card);
  border-radius:20px;
  padding:24px;
  width:90%;
  max-width:400px;
}
.editForm h2{
  margin:0 0 20px;
  font-size:20px;
}
.formGroup{
  margin-bottom:16px;
}
.formGroup label{
  display:block;
  color:var(--muted);
  font-size:13px;
  margin-bottom:6px;
}
.formGroup input{
  width:100%;
  padding:12px;
  background:var(--bg);
  border:1px solid rgba(255,255,255,0.1);
  border-radius:10px;
  color:var(--text);
  font-size:15px;
}
.formActions{
  display:flex;
  gap:10px;
  margin-top:20px;
}
.formActions button{
  flex:1;
  padding:14px;
  border-radius:12px;
  border:none;
  font-size:16px;
  cursor:pointer;
}
.formActions .btnSave{
  background:var(--accent);
  color:#fff;
}
.formActions .btnCancel{
  background:transparent;
  color:var(--muted);
  border:1px solid rgba(255,255,255,0.1);
}

/* charts */
.chartView{
  padding:16px;
}
.chartView h3{
  margin:0 0 16px;
  font-size:18px;
}
.chart{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  height:200px;
  gap:4px;
  padding:10px 0;
  border-bottom:1px solid rgba(255,255,255,0.1);
}
.bar{
  flex:1;
  background:var(--accent);
  border-radius:4px 4px 0 0;
  min-height:2px;
  cursor:pointer;
  transition:all 0.2s;
  position:relative;
}
.bar:hover{
  background:var(--danger);
  transform:scaleY(1.05);
}
.barLabel{
  position:absolute;
  bottom:-20px;
  left:50%;
  transform:translateX(-50%);
  font-size:10px;
  color:var(--muted);
  white-space:nowrap;
}
.dayView{
  margin-top:20px;
}
.dayView h4{
  margin:0 0 12px;
  font-size:16px;
}

/* settings */
.settingsBtn{
  position:absolute;
  top:16px;
  right:16px;
  background:transparent;
  border:none;
  color:var(--text);
  font-size:24px;
  cursor:pointer;
  padding:8px;
}
.page{
  display:none;
}
.page.active{
  display:block;
}
.settingsPage{
  max-width:520px;
  margin:auto;
  padding:16px;
}
.settingsHeader{
  display:flex;
  align-items:center;
  margin-bottom:24px;
}
.backBtn{
  background:transparent;
  border:none;
  color:var(--text);
  font-size:24px;
  cursor:pointer;
  padding:8px;
  margin-right:12px;
}
.settingsHeader h2{
  margin:0;
  font-size:24px;
}
.settingItem{
  background:var(--card);
  border-radius:14px;
  padding:16px;
  margin-bottom:12px;
}
.settingLabel{
  color:var(--muted);
  font-size:13px;
  margin-bottom:8px;
}
.settingItem select{
  width:100%;
  padding:12px;
  background:var(--bg);
  border:1px solid rgba(255,255,255,0.1);
  border-radius:10px;
  color:var(--text);
  font-size:15px;
  cursor:pointer;
}
.settingItem select option{
  background:var(--bg);
  color:var(--text);
}
</style>
</head>

<body>
<button class="settingsBtn" id="settingsBtn">‚öôÔ∏è</button>

<div id="mainPage" class="page active">
  <div class="app">
    <h1 id="appTitle">üéô Voice Cash</h1>

    <div class="topbar">
      <button class="active" id="todayBtn">–¢—Ä–∞—Ç—ã –∑–∞ –¥–µ–Ω—å</button>
      <button id="monthBtn">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –º–µ—Å—è—Ü</button>
      <button id="yearBtn">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –≥–æ–¥</button>
    </div>

    <div class="row">
      <div class="card">
        <div class="label" id="labelToday">–°–µ–≥–æ–¥–Ω—è</div>
        <div class="value" id="sumToday">0</div>
      </div>
      <div class="card">
        <div class="label" id="labelMonth">–ú–µ—Å—è—Ü</div>
        <div class="value" id="sumMonth">0</div>
      </div>
      <div class="card">
        <div class="label" id="labelYear">–ì–æ–¥</div>
        <div class="value" id="sumYear">0</div>
      </div>
    </div>

    <button id="recBtn" class="primary">üé§ Start recording</button>
    <div class="status" id="status"></div>

    <div id="list"></div>
  </div>
</div>

<div id="settingsPage" class="page settingsPage">
  <div class="settingsHeader">
    <button class="backBtn" id="backBtn">‚Üê</button>
    <h2 id="settingsTitle">Settings</h2>
  </div>

  <div class="settingItem">
    <div class="settingLabel" id="langLabel">Language</div>
    <select id="langSelect">
      <option value="en">English</option>
      <option value="ru">–†—É—Å—Å–∫–∏–π</option>
      <option value="es">Espa√±ol</option>
      <option value="fr">Fran√ßais</option>
      <option value="de">Deutsch</option>
      <option value="it">Italiano</option>
      <option value="pt">Portugu√™s</option>
      <option value="zh">‰∏≠Êñá</option>
      <option value="ja">Êó•Êú¨Ë™û</option>
      <option value="ko">ÌïúÍµ≠Ïñ¥</option>
      <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
      <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
      <option value="tr">T√ºrk√ße</option>
      <option value="nl">Nederlands</option>
      <option value="pl">Polski</option>
    </select>
  </div>
</div>

<div id="actionOverlay" class="overlay">
  <div class="actionMenu">
    <button id="editBtn">‚úèÔ∏è Edit</button>
    <button id="deleteBtn" class="danger">üóëÔ∏è Delete</button>
  </div>
</div>

<div id="editPanel" class="editPanel">
  <div class="editForm">
    <h2>Edit Expense</h2>
    <div class="formGroup">
      <label>Item Name</label>
      <input type="text" id="editItem">
    </div>
    <div class="formGroup">
      <label>Category</label>
      <input type="text" id="editCategory">
    </div>
    <div class="formGroup">
      <label>Amount</label>
      <input type="number" id="editAmount">
    </div>
    <div class="formGroup">
      <label>Date</label>
      <input type="date" id="editDate">
    </div>
    <div class="formActions">
      <button class="btnCancel" id="cancelEdit">Cancel</button>
      <button class="btnSave" id="saveEdit">Save</button>
    </div>
  </div>
</div>

<div id="chartPanel" class="editPanel">
  <div class="editForm chartView">
    <div class="settingsHeader">
      <button class="backBtn" id="chartBack">‚Üê</button>
      <h2 id="chartTitle">Analytics</h2>
    </div>
    <div id="chartContainer"></div>
  </div>
</div>

<script>
const KEY='vc-data';
let records=JSON.parse(localStorage.getItem(KEY)||'[]');

const ICONS={
  '–ö–æ—Ñ–µ':'üçó',
  '–ï–¥–∞':'üçó',
  '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç':'üöï',
  '–°–≤—è–∑—å':'üì∂',
  '–ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ':'‚ùì'
};

const RULES=[
 {c:'–ö–æ—Ñ–µ',k:['–∫–æ—Ñ–µ','–ª–∞—Ç—Ç–µ','–∫–∞–ø—É—á–∏–Ω–æ']},
 {c:'–ï–¥–∞',k:['–µ–¥–∞','–ø–∏—Ü—Ü–∞','—à–∞—É—Ä–º–∞','—Ä–µ—Å—Ç–æ—Ä–∞–Ω']},
 {c:'–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç',k:['—Ç–∞–∫—Å–∏','–º–µ—Ç—Ä–æ','–∞–≤—Ç–æ–±—É—Å']}
];

function detectCat(text){
 text=text.toLowerCase();
 for(const r of RULES)
  for(const k of r.k)
   if(text.includes(k)) return r.c;
 return '–ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ';
}

function today(){
 return new Date().toISOString().slice(0,10);
}

function render(){
 let t=0,m=0,y=0;
 const list=document.getElementById('list');
 list.innerHTML='';
 records.forEach(r=>{
  if(r.date===today()){
   t+=r.amount;
   const row=document.createElement('div');
   row.className='record';
   row.innerHTML=`
    <div class="icon">${ICONS[r.category]||'‚ùì'}</div>
    <div class="recMain">
      <div class="recTitle">${r.item}</div>
      <div class="recMeta">${r.category}</div>
    </div>
    <div class="recRight">
      <div class="amount">${r.amount}</div>
      <button class="menuBtn" data-id="${r.id}">‚ãÆ</button>
    </div>`;
   list.appendChild(row);
   row.querySelector('.menuBtn').onclick=()=>openActionMenu(r.id);
  }
  if(r.date.slice(0,7)===today().slice(0,7)) m+=r.amount;
  if(r.date.slice(0,4)===today().slice(0,4)) y+=r.amount;
 });
 document.getElementById('sumToday').textContent=t;
 document.getElementById('sumMonth').textContent=m;
 document.getElementById('sumYear').textContent=y;
}

let rec,isRec=false;
const btn=document.getElementById('recBtn');

function stopRecording(){
 isRec=false;
 btn.classList.remove('recording');
 const t=translations[currentLang]||translations.en;
 btn.textContent=t.recBtn;
}

btn.onclick=()=>{
 if(isRec){
  rec.stop();
  return;
 }
 rec=new webkitSpeechRecognition();
 const langCodes={en:'en-US',ru:'ru-RU',es:'es-ES',fr:'fr-FR',de:'de-DE',it:'it-IT',pt:'pt-PT',zh:'zh-CN',ja:'ja-JP',ko:'ko-KR',ar:'ar-SA',hi:'hi-IN',tr:'tr-TR',nl:'nl-NL',pl:'pl-PL'};
 rec.lang=langCodes[currentLang]||'en-US';
 rec.onresult=e=>{
  const t=e.results[0][0].transcript;
  if(!t) return;
  const m=t.match(/(.+?)\s+(\d+(?:[.,]\d+)?)/);
  if(!m) return;
  records.unshift({
   id:crypto.randomUUID(),
   item:m[1].trim(),
   amount:+m[2],
   category:detectCat(m[1]),
   date:today()
  });
  localStorage.setItem(KEY,JSON.stringify(records));
  render();
 };
 rec.onend=stopRecording;
 rec.start();
 isRec=true;
 btn.classList.add('recording');
 const t=translations[currentLang]||translations.en;
 btn.textContent=t.recBtnActive;
};

// action menu & edit logic
let currentRecordId=null;
const actionOverlay=document.getElementById('actionOverlay');
const editPanel=document.getElementById('editPanel');

function openActionMenu(id){
 currentRecordId=id;
 actionOverlay.classList.add('show');
}

function closeActionMenu(){
 actionOverlay.classList.remove('show');
 currentRecordId=null;
}

function deleteRecord(){
 records=records.filter(r=>r.id!==currentRecordId);
 localStorage.setItem(KEY,JSON.stringify(records));
 closeActionMenu();
 render();
}

function openEditPanel(){
 const record=records.find(r=>r.id===currentRecordId);
 if(!record) return;
 document.getElementById('editItem').value=record.item;
 document.getElementById('editCategory').value=record.category;
 document.getElementById('editAmount').value=record.amount;
 document.getElementById('editDate').value=record.date;
 closeActionMenu();
 editPanel.classList.add('show');
}

function closeEditPanel(){
 editPanel.classList.remove('show');
 currentRecordId=null;
}

function saveEdit(){
 const record=records.find(r=>r.id===currentRecordId);
 if(!record) return;
 record.item=document.getElementById('editItem').value;
 record.category=document.getElementById('editCategory').value;
 record.amount=+document.getElementById('editAmount').value;
 record.date=document.getElementById('editDate').value;
 localStorage.setItem(KEY,JSON.stringify(records));
 closeEditPanel();
 render();
}

// event listeners
actionOverlay.onclick=(e)=>{
 if(e.target===actionOverlay) closeActionMenu();
};
document.getElementById('editBtn').onclick=openEditPanel;
document.getElementById('deleteBtn').onclick=deleteRecord;
editPanel.onclick=(e)=>{
 if(e.target===editPanel) closeEditPanel();
};
document.getElementById('cancelEdit').onclick=(e)=>{
 e.stopPropagation();
 closeEditPanel();
};
document.getElementById('saveEdit').onclick=(e)=>{
 e.stopPropagation();
 saveEdit();
};

// charts
const chartPanel=document.getElementById('chartPanel');

function openChart(type){
 chartPanel.classList.add('show');
 if(type==='month') showMonthChart();
 else if(type==='year') showYearChart();
}

function closeChart(){
 chartPanel.classList.remove('show');
}

document.getElementById('chartBack').onclick=closeChart;
chartPanel.onclick=(e)=>{
 if(e.target===chartPanel) closeChart();
};

function showMonthChart(){
 const now=new Date();
 const year=now.getFullYear();
 const month=now.getMonth();
 const daysInMonth=new Date(year,month+1,0).getDate();

 document.getElementById('chartTitle').textContent='Monthly Analytics';

 const dailyTotals={};
 for(let d=1;d<=daysInMonth;d++){
  const date=`${year}-${String(month+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
  dailyTotals[date]=0;
 }

 records.forEach(r=>{
  if(r.date.startsWith(`${year}-${String(month+1).padStart(2,'0')}`)){
   dailyTotals[r.date]=(dailyTotals[r.date]||0)+r.amount;
  }
 });

 const values=Object.values(dailyTotals);
 const maxVal=Math.max(...values,1);

 let chartHTML='<h3>Daily Expenses</h3><div class="chart">';
 for(let d=1;d<=daysInMonth;d++){
  const date=`${year}-${String(month+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
  const val=dailyTotals[date];
  const height=(val/maxVal)*100;
  chartHTML+=`<div class="bar" style="height:${height}%" data-date="${date}"><div class="barLabel">${d}</div></div>`;
 }
 chartHTML+='</div><div id="dayDetails"></div>';

 document.getElementById('chartContainer').innerHTML=chartHTML;

 document.querySelectorAll('.bar').forEach(bar=>{
  bar.onclick=()=>{
   const date=bar.dataset.date;
   showDayDetails(date);
  };
 });
}

function showYearChart(){
 const now=new Date();
 const year=now.getFullYear();

 document.getElementById('chartTitle').textContent='Yearly Analytics';

 const monthlyTotals={};
 const monthNames=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];

 for(let m=0;m<12;m++){
  const prefix=`${year}-${String(m+1).padStart(2,'0')}`;
  monthlyTotals[prefix]=0;
 }

 records.forEach(r=>{
  const prefix=r.date.slice(0,7);
  if(r.date.startsWith(String(year))){
   monthlyTotals[prefix]=(monthlyTotals[prefix]||0)+r.amount;
  }
 });

 const values=Object.values(monthlyTotals);
 const maxVal=Math.max(...values,1);

 let chartHTML='<h3>Monthly Expenses</h3><div class="chart">';
 for(let m=0;m<12;m++){
  const prefix=`${year}-${String(m+1).padStart(2,'0')}`;
  const val=monthlyTotals[prefix];
  const height=(val/maxVal)*100;
  chartHTML+=`<div class="bar" style="height:${height}%" data-month="${prefix}"><div class="barLabel">${monthNames[m]}</div></div>`;
 }
 chartHTML+='</div><div id="monthDetails"></div>';

 document.getElementById('chartContainer').innerHTML=chartHTML;

 document.querySelectorAll('.bar').forEach(bar=>{
  bar.onclick=()=>{
   const monthPrefix=bar.dataset.month;
   showMonthDetails(monthPrefix);
  };
 });
}

function showDayDetails(date){
 const dayRecords=records.filter(r=>r.date===date);
 if(dayRecords.length===0){
  document.getElementById('dayDetails').innerHTML='<div class="dayView"><h4>No expenses on this day</h4></div>';
  return;
 }

 let html=`<div class="dayView"><h4>Expenses for ${date}</h4>`;
 dayRecords.forEach(r=>{
  html+=`
   <div class="record">
    <div class="icon">${ICONS[r.category]||'‚ùì'}</div>
    <div class="recMain">
     <div class="recTitle">${r.item}</div>
     <div class="recMeta">${r.category}</div>
    </div>
    <div class="recRight">
     <div class="amount">${r.amount}</div>
     <button class="menuBtn" data-id="${r.id}">‚ãÆ</button>
    </div>
   </div>`;
 });
 html+='</div>';

 document.getElementById('dayDetails').innerHTML=html;

 document.querySelectorAll('#dayDetails .menuBtn').forEach(btn=>{
  btn.onclick=()=>{
   currentRecordId=btn.dataset.id;
   closeChart();
   setTimeout(()=>actionOverlay.classList.add('show'),100);
  };
 });
}

function showMonthDetails(monthPrefix){
 const monthRecords=records.filter(r=>r.date.startsWith(monthPrefix));
 if(monthRecords.length===0){
  document.getElementById('monthDetails').innerHTML='<div class="dayView"><h4>No expenses in this month</h4></div>';
  return;
 }

 const dailyTotals={};
 monthRecords.forEach(r=>{
  dailyTotals[r.date]=(dailyTotals[r.date]||0)+r.amount;
 });

 let html=`<div class="dayView"><h4>Daily breakdown for ${monthPrefix}</h4>`;
 Object.keys(dailyTotals).sort().forEach(date=>{
  const dayRecords=records.filter(r=>r.date===date);
  html+=`<div class="card" style="margin-bottom:8px;"><div class="label">${date}</div><div class="value">${dailyTotals[date]}</div></div>`;
  dayRecords.forEach(r=>{
   html+=`
    <div class="record">
     <div class="icon">${ICONS[r.category]||'‚ùì'}</div>
     <div class="recMain">
      <div class="recTitle">${r.item}</div>
      <div class="recMeta">${r.category}</div>
     </div>
     <div class="recRight">
      <div class="amount">${r.amount}</div>
      <button class="menuBtn" data-id="${r.id}">‚ãÆ</button>
     </div>
    </div>`;
  });
 });
 html+='</div>';

 document.getElementById('monthDetails').innerHTML=html;

 document.querySelectorAll('#monthDetails .menuBtn').forEach(btn=>{
  btn.onclick=()=>{
   currentRecordId=btn.dataset.id;
   closeChart();
   setTimeout(()=>actionOverlay.classList.add('show'),100);
  };
 });
}

// make analytics buttons clickable
document.getElementById('monthBtn').onclick=()=>openChart('month');
document.getElementById('yearBtn').onclick=()=>openChart('year');

// translations
const translations={
 en:{
  appTitle:'üéô Voice Cash',
  todayBtn:'Daily Expenses',
  monthBtn:'Monthly Analytics',
  yearBtn:'Yearly Analytics',
  labelToday:'Today',
  labelMonth:'Month',
  labelYear:'Year',
  recBtn:'üé§ Start recording',
  recBtnActive:'‚è∫ Recording‚Ä¶',
  editBtn:'‚úèÔ∏è Edit',
  deleteBtn:'üóëÔ∏è Delete',
  editTitle:'Edit Expense',
  editCategory:'Category',
  editAmount:'Amount',
  editDate:'Date',
  btnCancel:'Cancel',
  btnSave:'Save',
  settingsTitle:'Settings',
  langLabel:'Language'
 },
 ru:{
  appTitle:'üéô Voice Cash',
  todayBtn:'–¢—Ä–∞—Ç—ã –∑–∞ –¥–µ–Ω—å',
  monthBtn:'–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –º–µ—Å—è—Ü',
  yearBtn:'–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –≥–æ–¥',
  labelToday:'–°–µ–≥–æ–¥–Ω—è',
  labelMonth:'–ú–µ—Å—è—Ü',
  labelYear:'–ì–æ–¥',
  recBtn:'üé§ –ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å',
  recBtnActive:'‚è∫ –ó–∞–ø–∏—Å—å‚Ä¶',
  editBtn:'‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',
  deleteBtn:'üóëÔ∏è –£–¥–∞–ª–∏—Ç—å',
  editTitle:'–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–¥',
  editCategory:'–ö–∞—Ç–µ–≥–æ—Ä–∏—è',
  editAmount:'–°—É–º–º–∞',
  editDate:'–î–∞—Ç–∞',
  btnCancel:'–û—Ç–º–µ–Ω–∞',
  btnSave:'–°–æ—Ö—Ä–∞–Ω–∏—Ç—å',
  settingsTitle:'–ù–∞—Å—Ç—Ä–æ–π–∫–∏',
  langLabel:'–Ø–∑—ã–∫'
 },
 es:{
  appTitle:'üéô Voice Cash',
  todayBtn:'Gastos diarios',
  monthBtn:'An√°lisis mensual',
  yearBtn:'An√°lisis anual',
  labelToday:'Hoy',
  labelMonth:'Mes',
  labelYear:'A√±o',
  recBtn:'üé§ Iniciar grabaci√≥n',
  recBtnActive:'‚è∫ Grabando‚Ä¶',
  editBtn:'‚úèÔ∏è Editar',
  deleteBtn:'üóëÔ∏è Eliminar',
  editTitle:'Editar gasto',
  editCategory:'Categor√≠a',
  editAmount:'Cantidad',
  editDate:'Fecha',
  btnCancel:'Cancelar',
  btnSave:'Guardar',
  settingsTitle:'Configuraci√≥n',
  langLabel:'Idioma'
 },
 fr:{
  appTitle:'üéô Voice Cash',
  todayBtn:'D√©penses quotidiennes',
  monthBtn:'Analyse mensuelle',
  yearBtn:'Analyse annuelle',
  labelToday:'Aujourd\'hui',
  labelMonth:'Mois',
  labelYear:'Ann√©e',
  recBtn:'üé§ D√©marrer l\'enregistrement',
  recBtnActive:'‚è∫ Enregistrement‚Ä¶',
  editBtn:'‚úèÔ∏è Modifier',
  deleteBtn:'üóëÔ∏è Supprimer',
  editTitle:'Modifier la d√©pense',
  editCategory:'Cat√©gorie',
  editAmount:'Montant',
  editDate:'Date',
  btnCancel:'Annuler',
  btnSave:'Enregistrer',
  settingsTitle:'Param√®tres',
  langLabel:'Langue'
 },
 de:{
  appTitle:'üéô Voice Cash',
  todayBtn:'T√§gliche Ausgaben',
  monthBtn:'Monatsanalyse',
  yearBtn:'Jahresanalyse',
  labelToday:'Heute',
  labelMonth:'Monat',
  labelYear:'Jahr',
  recBtn:'üé§ Aufnahme starten',
  recBtnActive:'‚è∫ Aufnahme l√§uft‚Ä¶',
  editBtn:'‚úèÔ∏è Bearbeiten',
  deleteBtn:'üóëÔ∏è L√∂schen',
  editTitle:'Ausgabe bearbeiten',
  editCategory:'Kategorie',
  editAmount:'Betrag',
  editDate:'Datum',
  btnCancel:'Abbrechen',
  btnSave:'Speichern',
  settingsTitle:'Einstellungen',
  langLabel:'Sprache'
 },
 it:{
  appTitle:'üéô Voice Cash',
  todayBtn:'Spese giornaliere',
  monthBtn:'Analisi mensile',
  yearBtn:'Analisi annuale',
  labelToday:'Oggi',
  labelMonth:'Mese',
  labelYear:'Anno',
  recBtn:'üé§ Avvia registrazione',
  recBtnActive:'‚è∫ Registrazione‚Ä¶',
  editBtn:'‚úèÔ∏è Modifica',
  deleteBtn:'üóëÔ∏è Elimina',
  editTitle:'Modifica spesa',
  editCategory:'Categoria',
  editAmount:'Importo',
  editDate:'Data',
  btnCancel:'Annulla',
  btnSave:'Salva',
  settingsTitle:'Impostazioni',
  langLabel:'Lingua'
 },
 pt:{
  appTitle:'üéô Voice Cash',
  todayBtn:'Despesas di√°rias',
  monthBtn:'An√°lise mensal',
  yearBtn:'An√°lise anual',
  labelToday:'Hoje',
  labelMonth:'M√™s',
  labelYear:'Ano',
  recBtn:'üé§ Iniciar grava√ß√£o',
  recBtnActive:'‚è∫ Gravando‚Ä¶',
  editBtn:'‚úèÔ∏è Editar',
  deleteBtn:'üóëÔ∏è Excluir',
  editTitle:'Editar despesa',
  editCategory:'Categoria',
  editAmount:'Valor',
  editDate:'Data',
  btnCancel:'Cancelar',
  btnSave:'Salvar',
  settingsTitle:'Configura√ß√µes',
  langLabel:'Idioma'
 },
 zh:{
  appTitle:'üéô Voice Cash',
  todayBtn:'ÊØèÊó•ÊîØÂá∫',
  monthBtn:'ÊúàÂ∫¶ÂàÜÊûê',
  yearBtn:'Âπ¥Â∫¶ÂàÜÊûê',
  labelToday:'‰ªäÂ§©',
  labelMonth:'Êúà',
  labelYear:'Âπ¥',
  recBtn:'üé§ ÂºÄÂßãÂΩïÈü≥',
  recBtnActive:'‚è∫ ÂΩïÈü≥‰∏≠‚Ä¶',
  editBtn:'‚úèÔ∏è ÁºñËæë',
  deleteBtn:'üóëÔ∏è Âà†Èô§',
  editTitle:'ÁºñËæëÊîØÂá∫',
  editCategory:'Á±ªÂà´',
  editAmount:'ÈáëÈ¢ù',
  editDate:'Êó•Êúü',
  btnCancel:'ÂèñÊ∂à',
  btnSave:'‰øùÂ≠ò',
  settingsTitle:'ËÆæÁΩÆ',
  langLabel:'ËØ≠Ë®Ä'
 },
 ja:{
  appTitle:'üéô Voice Cash',
  todayBtn:'Êó•Ê¨°ÊîØÂá∫',
  monthBtn:'ÊúàÊ¨°ÂàÜÊûê',
  yearBtn:'Âπ¥Ê¨°ÂàÜÊûê',
  labelToday:'‰ªäÊó•',
  labelMonth:'Êúà',
  labelYear:'Âπ¥',
  recBtn:'üé§ Èå≤Èü≥ÈñãÂßã',
  recBtnActive:'‚è∫ Èå≤Èü≥‰∏≠‚Ä¶',
  editBtn:'‚úèÔ∏è Á∑®ÈõÜ',
  deleteBtn:'üóëÔ∏è ÂâäÈô§',
  editTitle:'ÊîØÂá∫„ÇíÁ∑®ÈõÜ',
  editCategory:'„Ç´„ÉÜ„Ç¥„É™„Éº',
  editAmount:'ÈáëÈ°ç',
  editDate:'Êó•‰ªò',
  btnCancel:'„Ç≠„É£„É≥„Çª„É´',
  btnSave:'‰øùÂ≠ò',
  settingsTitle:'Ë®≠ÂÆö',
  langLabel:'Ë®ÄË™û'
 },
 ko:{
  appTitle:'üéô Voice Cash',
  todayBtn:'ÏùºÏùº ÏßÄÏ∂ú',
  monthBtn:'ÏõîÍ∞Ñ Î∂ÑÏÑù',
  yearBtn:'Ïó∞Í∞Ñ Î∂ÑÏÑù',
  labelToday:'Ïò§Îäò',
  labelMonth:'Ïõî',
  labelYear:'ÎÖÑ',
  recBtn:'üé§ ÎÖπÏùå ÏãúÏûë',
  recBtnActive:'‚è∫ ÎÖπÏùå Ï§ë‚Ä¶',
  editBtn:'‚úèÔ∏è Ìé∏Ïßë',
  deleteBtn:'üóëÔ∏è ÏÇ≠Ï†ú',
  editTitle:'ÏßÄÏ∂ú Ìé∏Ïßë',
  editCategory:'Ïπ¥ÌÖåÍ≥†Î¶¨',
  editAmount:'Í∏àÏï°',
  editDate:'ÎÇ†Ïßú',
  btnCancel:'Ï∑®ÏÜå',
  btnSave:'Ï†ÄÏû•',
  settingsTitle:'ÏÑ§Ï†ï',
  langLabel:'Ïñ∏Ïñ¥'
 },
 ar:{
  appTitle:'üéô Voice Cash',
  todayBtn:'ÿßŸÑŸÜŸÅŸÇÿßÿ™ ÿßŸÑŸäŸàŸÖŸäÿ©',
  monthBtn:'ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ¥Ÿáÿ±Ÿä',
  yearBtn:'ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ≥ŸÜŸàŸä',
  labelToday:'ÿßŸÑŸäŸàŸÖ',
  labelMonth:'ÿßŸÑÿ¥Ÿáÿ±',
  labelYear:'ÿßŸÑÿ≥ŸÜÿ©',
  recBtn:'üé§ ÿ®ÿØÿ° ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ',
  recBtnActive:'‚è∫ ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ‚Ä¶',
  editBtn:'‚úèÔ∏è ÿ™ÿπÿØŸäŸÑ',
  deleteBtn:'üóëÔ∏è ÿ≠ÿ∞ŸÅ',
  editTitle:'ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÜŸÅŸÇÿßÿ™',
  editCategory:'ÿßŸÑŸÅÿ¶ÿ©',
  editAmount:'ÿßŸÑŸÖÿ®ŸÑÿ∫',
  editDate:'ÿßŸÑÿ™ÿßÿ±ŸäÿÆ',
  btnCancel:'ÿ•ŸÑÿ∫ÿßÿ°',
  btnSave:'ÿ≠ŸÅÿ∏',
  settingsTitle:'ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™',
  langLabel:'ÿßŸÑŸÑÿ∫ÿ©'
 },
 hi:{
  appTitle:'üéô Voice Cash',
  todayBtn:'‡§¶‡•à‡§®‡§ø‡§ï ‡§ñ‡§∞‡•ç‡§ö',
  monthBtn:'‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£',
  yearBtn:'‡§µ‡§æ‡§∞‡•ç‡§∑‡§ø‡§ï ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£',
  labelToday:'‡§Ü‡§ú',
  labelMonth:'‡§Æ‡§π‡•Ä‡§®‡§æ',
  labelYear:'‡§µ‡§∞‡•ç‡§∑',
  recBtn:'üé§ ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§°‡§ø‡§Ç‡§ó ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç',
  recBtnActive:'‚è∫ ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à‚Ä¶',
  editBtn:'‚úèÔ∏è ‡§∏‡§Ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç',
  deleteBtn:'üóëÔ∏è ‡§π‡§ü‡§æ‡§è‡§Ç',
  editTitle:'‡§ñ‡§∞‡•ç‡§ö ‡§∏‡§Ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç',
  editCategory:'‡§∂‡•ç‡§∞‡•á‡§£‡•Ä',
  editAmount:'‡§∞‡§æ‡§∂‡§ø',
  editDate:'‡§§‡§æ‡§∞‡•Ä‡§ñ',
  btnCancel:'‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç',
  btnSave:'‡§∏‡§π‡•á‡§ú‡•á‡§Ç',
  settingsTitle:'‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏',
  langLabel:'‡§≠‡§æ‡§∑‡§æ'
 },
 tr:{
  appTitle:'üéô Voice Cash',
  todayBtn:'G√ºnl√ºk Harcamalar',
  monthBtn:'Aylƒ±k Analiz',
  yearBtn:'Yƒ±llƒ±k Analiz',
  labelToday:'Bug√ºn',
  labelMonth:'Ay',
  labelYear:'Yƒ±l',
  recBtn:'üé§ Kaydƒ± ba≈ülat',
  recBtnActive:'‚è∫ Kaydediliyor‚Ä¶',
  editBtn:'‚úèÔ∏è D√ºzenle',
  deleteBtn:'üóëÔ∏è Sil',
  editTitle:'Harcamayƒ± D√ºzenle',
  editCategory:'Kategori',
  editAmount:'Tutar',
  editDate:'Tarih',
  btnCancel:'ƒ∞ptal',
  btnSave:'Kaydet',
  settingsTitle:'Ayarlar',
  langLabel:'Dil'
 },
 nl:{
  appTitle:'üéô Voice Cash',
  todayBtn:'Dagelijkse uitgaven',
  monthBtn:'Maandanalyse',
  yearBtn:'Jaaranalyse',
  labelToday:'Vandaag',
  labelMonth:'Maand',
  labelYear:'Jaar',
  recBtn:'üé§ Start opname',
  recBtnActive:'‚è∫ Opnemen‚Ä¶',
  editBtn:'‚úèÔ∏è Bewerken',
  deleteBtn:'üóëÔ∏è Verwijderen',
  editTitle:'Uitgave bewerken',
  editCategory:'Categorie',
  editAmount:'Bedrag',
  editDate:'Datum',
  btnCancel:'Annuleren',
  btnSave:'Opslaan',
  settingsTitle:'Instellingen',
  langLabel:'Taal'
 },
 pl:{
  appTitle:'üéô Voice Cash',
  todayBtn:'Wydatki dzienne',
  monthBtn:'Analiza miesiƒôczna',
  yearBtn:'Analiza roczna',
  labelToday:'Dzisiaj',
  labelMonth:'MiesiƒÖc',
  labelYear:'Rok',
  recBtn:'üé§ Rozpocznij nagrywanie',
  recBtnActive:'‚è∫ Nagrywanie‚Ä¶',
  editBtn:'‚úèÔ∏è Edytuj',
  deleteBtn:'üóëÔ∏è Usu≈Ñ',
  editTitle:'Edytuj wydatek',
  editCategory:'Kategoria',
  editAmount:'Kwota',
  editDate:'Data',
  btnCancel:'Anuluj',
  btnSave:'Zapisz',
  settingsTitle:'Ustawienia',
  langLabel:'Jƒôzyk'
 }
};

let currentLang=localStorage.getItem('lang')||'ru';

function applyTranslations(){
 const t=translations[currentLang]||translations.en;
 document.getElementById('appTitle').textContent=t.appTitle;
 document.getElementById('todayBtn').textContent=t.todayBtn;
 document.getElementById('monthBtn').textContent=t.monthBtn;
 document.getElementById('yearBtn').textContent=t.yearBtn;
 document.getElementById('labelToday').textContent=t.labelToday;
 document.getElementById('labelMonth').textContent=t.labelMonth;
 document.getElementById('labelYear').textContent=t.labelYear;
 if(!isRec) document.getElementById('recBtn').textContent=t.recBtn;
 document.getElementById('editBtn').textContent=t.editBtn;
 document.getElementById('deleteBtn').textContent=t.deleteBtn;
 document.querySelectorAll('.editForm h2')[0].textContent=t.editTitle;
 document.querySelectorAll('.editForm label')[0].textContent=t.editCategory;
 document.querySelectorAll('.editForm label')[1].textContent=t.editAmount;
 document.querySelectorAll('.editForm label')[2].textContent=t.editDate;
 document.getElementById('cancelEdit').textContent=t.btnCancel;
 document.getElementById('saveEdit').textContent=t.btnSave;
 document.getElementById('settingsTitle').textContent=t.settingsTitle;
 document.getElementById('langLabel').textContent=t.langLabel;
 document.getElementById('langSelect').value=currentLang;
}

// navigation
document.getElementById('settingsBtn').onclick=()=>{
 document.getElementById('mainPage').classList.remove('active');
 document.getElementById('settingsPage').classList.add('active');
};

document.getElementById('backBtn').onclick=()=>{
 document.getElementById('settingsPage').classList.remove('active');
 document.getElementById('mainPage').classList.add('active');
};

document.getElementById('langSelect').onchange=(e)=>{
 currentLang=e.target.value;
 localStorage.setItem('lang',currentLang);
 applyTranslations();
};

applyTranslations();
render();
</script>
</body>
</html>
