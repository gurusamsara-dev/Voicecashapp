<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Voice Cash</title>

<style>
:root{
  --bg:#0b0b10;
  --card:#171724;
  --accent:#7c5cff;
  --danger:#ff4d4d;
  --ok:#22c55e;
  --text:#ffffff;
  --muted:#9a9ab3;
}
*{box-sizing:border-box}
body{
  margin:0;
  background:radial-gradient(1200px 600px at top,#151528,#0b0b10);
  color:var(--text);
  font-family:system-ui,-apple-system,BlinkMacSystemFont;
}
.app{
  max-width:520px;
  margin:auto;
  padding:16px;
}
h1{
  text-align:center;
  opacity:.85;
  margin:10px 0 14px;
}
button{
  border:none;
  cursor:pointer;
}
.hidden{display:none}

/* TOP BUTTONS */
.topbar{
  display:flex;
  gap:10px;
}
.topbar button{
  flex:1;
  padding:12px;
  border-radius:14px;
  background:var(--card);
  color:var(--text);
}
.topbar button.active{
  outline:2px solid rgba(124,92,255,.4);
}

/* SUMMARY */
.row{
  display:flex;
  gap:10px;
  margin:12px 0;
}
.card{
  flex:1;
  background:var(--card);
  border-radius:14px;
  padding:12px;
}
.card .label{color:var(--muted);font-size:13px}
.card .value{color:var(--accent);font-size:20px;margin-top:6px}

/* RECORD BUTTON */
.primary{
  width:100%;
  padding:16px;
  border-radius:16px;
  background:var(--accent);
  color:#fff;
  font-size:18px;
  margin-top:8px;
}
.primary.recording{
  background:var(--danger);
  animation:pulse 1.2s infinite;
}
@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(255,77,77,.5)}
  70%{box-shadow:0 0 0 16px rgba(255,77,77,0)}
}

/* RECORD LIST */
.section{
  margin-top:16px;
}
.record{
  background:var(--card);
  border-radius:14px;
  padding:10px;
  display:flex;
  align-items:center;
  gap:10px;
  margin-bottom:8px;
}
.icon{
  width:34px;
  height:34px;
  border-radius:10px;
  background:rgba(255,255,255,.08);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:18px;
}
.record-main{
  flex:1;
}
.record-main .name{
  font-size:15px;
}
.record-main .time{
  font-size:12px;
  color:var(--muted);
}
.amount{
  font-size:16px;
}
.menu-btn{
  background:transparent;
  color:var(--muted);
  font-size:22px;
  padding:6px;
}

/* MENU */
.menu{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  display:flex;
  align-items:flex-end;
  justify-content:center;
}
.menu-box{
  background:var(--card);
  border-radius:18px;
  width:100%;
  max-width:520px;
  padding:12px;
}
.menu-box button{
  width:100%;
  padding:14px;
  border-radius:14px;
  background:rgba(255,255,255,.06);
  color:var(--text);
  margin-bottom:8px;
}
.menu-box .danger{background:var(--danger)}
.menu-box .cancel{opacity:.7}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  display:flex;
  align-items:center;
  justify-content:center;
}
.modal-box{
  background:var(--card);
  border-radius:18px;
  padding:16px;
  width:90%;
  max-width:420px;
}
.modal-box h3{text-align:center}
.field{
  margin:10px 0;
}
.field input{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:none;
  background:rgba(255,255,255,.08);
  color:#fff;
}
.actions{
  display:flex;
  gap:10px;
  margin-top:12px;
}
.actions button{
  flex:1;
  padding:12px;
  border-radius:14px;
}
.save{background:var(--ok);color:#082}
.cancel{background:rgba(255,255,255,.1)}
</style>
</head>

<body>
<div class="app">
  <h1>üéô Voice Cash</h1>

  <div class="topbar">
    <button class="active">–¢—Ä–∞—Ç—ã –∑–∞ –¥–µ–Ω—å</button>
    <button>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –º–µ—Å—è—Ü</button>
    <button>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –≥–æ–¥</button>
  </div>

  <div class="row">
    <div class="card"><div class="label">–°–µ–≥–æ–¥–Ω—è</div><div class="value" id="sum">0</div></div>
  </div>

  <button id="recBtn" class="primary">üé§ –ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å</button>

  <div class="section" id="list"></div>
</div>

<!-- MENU -->
<div id="menu" class="menu hidden">
  <div class="menu-box">
    <button id="editBtn">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
    <button id="deleteBtn" class="danger">üóë –£–¥–∞–ª–∏—Ç—å</button>
    <button id="closeMenu" class="cancel">–û—Ç–º–µ–Ω–∞</button>
  </div>
</div>

<!-- MODAL -->
<div id="modal" class="modal hidden">
  <div class="modal-box">
    <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
    <div class="field"><input id="editName"></div>
    <div class="field"><input id="editAmount" type="number"></div>
    <div class="actions">
      <button class="cancel" id="cancelEdit">–û—Ç–º–µ–Ω–∞</button>
      <button class="save" id="saveEdit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
  </div>
</div>

<script>
let records = JSON.parse(localStorage.getItem('vc-records')||'[]');
let activeId = null;

const list = document.getElementById('list');
const sumEl = document.getElementById('sum');

function icon(cat){
  if(cat==='–ï–¥–∞') return 'üçó';
  return '‚ùì';
}

function render(){
  list.innerHTML='';
  let sum=0;
  records.forEach(r=>{
    sum+=r.amount;
    const el=document.createElement('div');
    el.className='record';
    el.innerHTML=`
      <div class="icon">${icon(r.category)}</div>
      <div class="record-main">
        <div class="name">${r.name}</div>
        <div class="time">${r.time}</div>
      </div>
      <div class="amount">${r.amount}</div>
      <button class="menu-btn">‚ãÆ</button>
    `;
    el.querySelector('.menu-btn').onclick=()=>{
      activeId=r.id;
      document.getElementById('menu').classList.remove('hidden');
    };
    list.appendChild(el);
  });
  sumEl.textContent=sum;
}

document.getElementById('closeMenu').onclick=()=>{
  document.getElementById('menu').classList.add('hidden');
};

document.getElementById('editBtn').onclick=()=>{
  const r=records.find(x=>x.id===activeId);
  document.getElementById('editName').value=r.name;
  document.getElementById('editAmount').value=r.amount;
  document.getElementById('menu').classList.add('hidden');
  document.getElementById('modal').classList.remove('hidden');
};

document.getElementById('saveEdit').onclick=()=>{
  const r=records.find(x=>x.id===activeId);
  r.name=document.getElementById('editName').value;
  r.amount=parseInt(document.getElementById('editAmount').value);
  localStorage.setItem('vc-records',JSON.stringify(records));
  document.getElementById('modal').classList.add('hidden');
  render();
};

document.getElementById('cancelEdit').onclick=()=>{
  document.getElementById('modal').classList.add('hidden');
};

document.getElementById('deleteBtn').onclick=()=>{
  records=records.filter(x=>x.id!==activeId);
  localStorage.setItem('vc-records',JSON.stringify(records));
  document.getElementById('menu').classList.add('hidden');
  render();
};

render();
</script>
</body>
</html>
